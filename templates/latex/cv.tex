\documentclass[11pt,a4paper,sans]{moderncv}
\DeclareOldFontCommand{\rm}{\normalfont\rmfamily}{\mathrm}
\DeclareOldFontCommand{\sf}{\normalfont\sffamily}{\mathsf}
\DeclareOldFontCommand{\tt}{\normalfont\ttfamily}{\mathtt}
\DeclareOldFontCommand{\bf}{\normalfont\bfseries}{\mathbf}
\DeclareOldFontCommand{\it}{\normalfont\itshape}{\mathit}
\DeclareOldFontCommand{\sl}{\normalfont\slshape}{\@nomath\sl}
\DeclareOldFontCommand{\sc}{\normalfont\scshape}{\@nomath\sc}
\DeclareRobustCommand*\cal{\@fontswitch\relax\mathcal}
\DeclareRobustCommand*\mit{\@fontswitch\relax\mathnormal}


\moderncvstyle{<< style >>}
\moderncvcolor{<< color >>}
\definecolor{color2}{rgb}{<<color2>>}
%\renewcommand{\familydefault}{\sfdefault}

\usepackage[top=1in, bottom=1in, left=1.1in, right=1.1in]{geometry}
\setlength{\hintscolumnwidth}{3cm}
%\setlength{\makecvtitlenamewidth}{10cm}

% En la documentacion de moderncv recomiendan hacer esto luego de cambiar
% la geometria
% https://ctan.mirrors.hoobly.com/macros/latex/contrib/moderncv/manual/moderncv_userguide.pdf
\recomputelengths

\frenchspacing


% Usado para controlar que caracter estaba rompiendo todo
%\DeclareUnicodeCharacter{0301}{*************************************}

% \usepackage[backend=biber,style=ieee,defernumbers=true]{biblatex}
\usepackage[backend=biber,style=ieee, dashed=false]{biblatex}

% Make the author's name bold in publications.
\DeclareNameFormat{author}{%
  \nameparts{#1}%
  \ifthenelse{\equal{\namepartfamily}{Loyola}}%
    {\textbf{\ifblank{\namepartgiveni}{}{\namepartgiveni\space}\namepartfamily}}%
    {\ifblank{\namepartgiveni}{}{\namepartgiveni\space}\namepartfamily}%
  \ifthenelse{\value{listcount}=1 \AND \value{liststop}=2}%
    {\space and\space}
    {\ifthenelse{\value{listcount}<\value{liststop}}%
      {\addcomma\space}
      {}
    }
}
% Old, broken:
% \DeclareNameFormat{author}{%
%   \ifthenelse{\equal{#1}{<< name.last >>}}%
%     {\textbf{\ifblank{#4}{}{#4\space}#1}}%
%     {\ifblank{#4}{}{#4\space}#1}%
%   \ifthenelse{\value{listcount}=1 \AND \value{liststop}=2}%
%     {\space and\space}
%     {\ifthenelse{\value{listcount}<\value{liststop}}%
%       {\addcomma\space}
%       {}
%     }
% }

\usepackage{lastpage}
% \pageref*   impide que hyperref genere un link con el número de páginas.
\cfoot{\addressfont\textcolor{gray}{Page \thepage\ of \pageref*{LastPage}}}

\AtEndPreamble{\hypersetup{pdftitle={CV -- << name.first >> << name.last >>}}}
\name{<< name.first >>}{<< name.last >>}
%\title{Resumé title}
%\address{street and number}{postcode city}{country}
\phone{<< phone >>}
\email{<< email >>}
\homepage{<< url >>}
\social[linkedin]{<<social.linkedin>>}
\social[twitter]{<<social.twitter>>}
\social[github]{<<social.github>>}
\extrainfo{\small Last updated on \today}
%\photo[64pt][0.4pt]{picture}
% \quote{Last updated \today}


% Para configurar como se ven los hyper-vínculos, debemos configurar hyperref.
% Esto no es trivial, ya que muchos paquetes utilizan e inicializan el paquete.
% Si esto no se hace \AtEndPreamble el \hypersetup no tiene efecto.
% Antes lo hacíamos con \hypersetup luego del comienzo del documento, pero
% versiones nuevas de LiveTex no funciona (>2021).
\AtEndPreamble{%
  \RequirePackage{hyperref}
  \hypersetup{%
        colorlinks    = true,%  Color text instead of boxes
        urlcolor      = color1,%  Color of external urls
  }
}

\begin{document}
\makecvtitle
<< body >>

\end{document}
